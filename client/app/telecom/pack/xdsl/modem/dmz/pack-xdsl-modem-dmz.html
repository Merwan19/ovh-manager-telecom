<div class="telecom-pack-xdsl-modem-dmz">

    <div class="widget-presentation">
        <header class="widget-presentation-header">
            <h2 class="widget-presentation-title" data-translate="xdsl_modem_dmz_status"></h2>
        </header>

        <div class="alert alert-info" role="alert">
            <span class="ovh-font ovh-font-filled-info" aria-hidden="true"></span>
            <p data-translate="xdsl_modem_dmz_description"></p>
        </div>

        <form name="remoteControlForm" data-ng-submit="DmzCtrl.changeDmz()" class="table-responsive-vertical ovh-form-flat">
            <table class="table table-hover table-condensed ovh-form-flat table-form table-pretty">
                <thead>
                    <tr>
                        <th scope="col"
                            data-translate="xdsl_modem_dmz_modem_address"></th>
                        <th scope="col"
                            data-translate="xdsl_modem_dmz_mask_address"></th>
                        <th scope="col"
                            data-translate="xdsl_modem_dmz_dmz_address"></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row"
                            data-title="{{ 'xdsl_modem_dmz_modem_address' | translate }}"
                            data-ng-bind="DmzCtrl.modemLan.IPAddress || ('xdsl_modem_dmz_unknown' | translate)"></th>

                        <td data-title="{{ 'xdsl_modem_dmz_mask_address' | translate }}"
                            data-ng-bind="DmzCtrl.modemLan.subnetMask || ('xdsl_modem_dmz_unknown' | translate)"></td>

                        <td data-ng-bind="DmzCtrl.mediator.info.dmzIP || ('xdsl_modem_dmz_none' | translate)"
                            data-title="{{ 'xdsl_modem_dmz_dmz_address' | translate }}"
                            data-ng-if="!DmzCtrl.editing && !DmzCtrl.mediator.tasks.changeModemConfigDMZ">
                        </td>
                        <td data-ng-if="DmzCtrl.editing && !DmzCtrl.mediator.tasks.changeModemConfigDMZ"
                            data-title="{{ 'xdsl_modem_dmz_dmz_address' | translate }}"
                            class="form-group">
                            <label for="dmzIPAddress"
                                   data-translate="xdsl_modem_dmz_modem_address"
                                   class="sr-only"></label>
                            <div data-flat-input-container>
                                <input name="dmzIPAddress"
                                        id="dmzIPAddress"
                                        type="text"
                                        class="form-control input-sm"
                                        data-ng-model="DmzCtrl.dmz"
                                        placeholder="000.000.000.000"
                                        data-ui-validate="'DmzCtrl.validator.isIP($value)'"/>
                            </div>
                        </td>
                        <td data-ng-if="DmzCtrl.mediator.tasks.changeModemConfigDMZ">
                            <spinner></spinner>
                        </td>

                        <td class="col-mobile-button-big" data-ng-if="!DmzCtrl.editing">
                            <button class="btn btn-xs btn-link"
                                    type="button"
                                    title="{{DmzCtrl.modemLan.IPAddress}} {{ 'common_table_edit' | translate }}"
                                    data-ng-click="DmzCtrl.setEditMode()"
                                    data-ng-disabled="!DmzCtrl.mediator.capabilities.canChangeDMZ || !DmzCtrl.modemLan || DmzCtrl.mediator.tasks.changeModemConfigDMZ">
                                <span class="ovh-font ovh-font-editer fs16" aria-hidden="true"></span>
                            </button>
                            <button class="btn btn-xs btn-link"
                                    type="button"
                                    data-ng-show="DmzCtrl.mediator.info.dmzIP"
                                    title="{{DmzCtrl.modemLan.IPAddress}} {{ 'common_table_delete' | translate }}"
                                    data-ng-really-click="DmzCtrl.delete()"
                                    data-ng-really-message="{{ 'xdsl_modem_dmz_delete_really' | translate }}"
                                    data-ng-really-confirm="{{ 'ok' | translate }}"
                                    data-ng-really-cancel="{{ 'cancel' | translate }}"
                                    data-ng-disabled="!DmzCtrl.mediator.capabilities.canChangeDMZ || !DmzCtrl.modemLan || DmzCtrl.mediator.tasks.changeModemConfigDMZ || !DmzCtrl.mediator.info.dmzIP"
                                    data-ng-really-window-class="revert-really-buttons">
                                <span class="ovh-font ovh-font-bin fs16" aria-hidden="true"></span>
                            </button>
                        </td>
                        <td class="form-group col-mobile-button-big" data-ng-if="DmzCtrl.editing">
                            <button type="submit"
                                    title="{{DmzCtrl.modemLan.IPAddress}} {{ 'common_table_validate_modifications' | translate }}"
                                    class="btn btn-xs btn-primary"
                                    data-ng-disabled="remoteControlForm.$invalid">
                                <span class="ovh-font ovh-font-check" aria-hidden="true"></span>
                            </button>
                            <button type="reset"
                                    title="{{ 'common_table_cancel_modifications' | translate }}"
                                    class="btn btn-xs btn-default"
                                    data-ng-click="DmzCtrl.cancel()">
                                <span class="ovh-font ovh-font-wrong" aria-hidden="true"></span>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>

</div>
