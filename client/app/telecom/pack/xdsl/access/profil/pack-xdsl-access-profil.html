<div data-ng-controller="XdslAccessProfileCtrl as ProfileCtrl">
    <spinner data-ng-if="ProfileCtrl.loader"></spinner>

    <form name="DslamProfilForm"
        class="ovh-form-flat clearfix"
        data-ng-submit="ProfileCtrl.changeProfile()"
        data-ng-if="ProfileCtrl.profiles">
        <select flat-select
            class="form-control"
            id="newProfil"
            name="newProfil"
            data-ng-model="ProfileCtrl.currentProfileTmp"
            data-ng-options="profil.name for profil in ProfileCtrl.profiles"
            data-ng-disabled="access.tasks.current.dslamProfileChange">
        </select>

        <button class="btn btn-primary left-space-m8"
                type="submit"
                data-ng-if="!access.tasks.current.dslamProfileChange"
                data-ng-disabled="!ProfileCtrl.profiles || access.tasks.current.dslamProfileChange || ProfileCtrl.currentProfile === ProfileCtrl.currentProfileTmp"
                data-translate="submit">
        </button>
    </form>
    <div class="top-space-m8" data-ng-if="access.tasks.current.dslamProfileChange">
        <spinner></spinner>
        <span data-translate="xdsl_access_profile_doing"></span>
    </div>
</div>
