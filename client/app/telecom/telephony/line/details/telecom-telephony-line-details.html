<section class="telecom-telephony-line-details">

    <div class="text-center" data-ng-if="DetailsOfferCtrl.loading.init">
        <oui-spinner></oui-spinner>
    </div>

    <div data-ng-if="!DetailsOfferCtrl.loading.init">

        <div class="row">

            <!-- LINE INFORMATIONS -->
            <section class="col-xs-12 col-md-6 widget-presentation">
                <header class="widget-presentation-header">
                    <h2 class="widget-presentation-title"
                        data-translate="telephony_line_details_global_info_title">
                    </h2>
                </header>
                <dl>
                    <!-- serviceName -->
                    <dt data-translate="telephony_line_details_service_name_label"></dt>
                    <dd data-ng-bind="DetailsOfferCtrl.line.serviceName | phoneNumber"></dd>

                    <!-- description -->
                    <dt data-translate="telephony_line_details_label"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.description || '-'"></dd>

                    <!-- country code -->
                    <dt data-translate="telephony_line_details_country"></dt>
                    <dd>
                        <span class="flag-icon" data-ng-class="['flag-icon-'+DetailsOfferCtrl.plan.country]"></span>
                        /
                        <span data-ng-bind="DetailsOfferCtrl.plan.prefix || '-'">
                    </dd>

                    <!-- next bill-->
                    <dt data-translate="telephony_line_details_next_bill"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.nextBill | date:'shortDate' || '-'"></dd>

                    <!-- Simultaneous calls -->
                    <dt data-translate="telephony_line_details_silmutaneous_call"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.simultaneousLines || '-'"></dd>
                </dl>
            </section>
            <!-- /.widget-presentation -->

            <!-- GROUPE INFORMATIONS-->
            <section class="col-xs-12 col-md-6 widget-presentation">
                <header class="widget-presentation-header">
                    <h2 class="widget-presentation-title"
                        data-translate="telephony_line_details_global_group_title"></h2>
                </header>
                <dl>
                    <!-- id -->
                    <dt data-translate="telephony_line_details_group_id"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.group.billingAccount || '-'"></dd>

                    <!-- description-->
                    <dt data-translate="telephony_line_details_group_label"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.group.getDisplayedName() || '-'"></dd>
                </dl>
            </section>
            <!-- /.widget-presentation -->

        </div>
        <!-- /.row -->

        <div class="row">

            <!-- PHONE -->
            <section class="col-xs-12 col-md-6 widget-presentation"
                     data-ng-if="DetailsOfferCtrl.line.hasPhone">
                <header class="widget-presentation-header">
                    <h2 class="widget-presentation-title"
                        data-translate="telephony_line_details_hardware_title">
                    </h2>
                </header>
                <dl>
                    <!-- MODEL -->
                    <dt data-translate="telephony_line_details_hardware_model"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.phone.description || DetailsOfferCtrl.line.phone.brand"></dd>

                    <!-- CONBI-->
                    <dt data-translate="telephony_line_details_hardware_combi"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.phone.combi || '-'"></dd>

                    <!-- MAC-->
                    <dt data-translate="telephony_line_details_hardware_mac"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.phone.macAddress"></dd>

                    <!-- IP -->
                    <dt data-translate="telephony_line_details_hardware_ip"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.phone.ip.ip || '-'"></dd>

                    <!-- PORT -->
                    <dt data-translate="telephony_line_details_hardware_port"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.phone.port || '-'"></dd>

                    <!-- PROTOCOL-->
                    <dt data-translate="telephony_line_details_hardware_protocol"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.phone.protocol | uppercase"></dd>

                    <!-- INFRA -->
                    <dt data-translate="telephony_line_details_hardware_infra"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.phone.infra || DetailsOfferCtrl.line.infrastructure || '-'"></dd>

                    <!-- STATUS-->
                    <dt data-translate="telephony_line_details_hardware_status"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.phone.status || '-'"></dd>
                </dl>
            </section>
            <!-- /.widget-presentation -->

            <!-- SIP -->
            <section class="col-xs-12 col-md-6 widget-presentation"
                     data-ng-if="!DetailsOfferCtrl.line.hasPhone || (DetailsOfferCtrl.line.hasPhone && DetailsOfferCtrl.line.phone.protocol === 'sip')">

                <header class="widget-presentation-header">
                    <h2 class="widget-presentation-title"
                        data-translate="telephony_line_details_sip_title">
                    </h2>
                </header>
                <dl>
                    <!-- LOGIN -->
                    <dt data-translate="telephony_line_details_sip_login"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.serviceName || '-'"></dd>

                    <!-- LOGIN 2 ?!-->
                    <dt data-translate="telephony_line_details_sip_auth_login"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.serviceName || '-'"></dd>

                    <!-- DOMAIN -->
                    <dt data-translate="telephony_line_details_sip_domain"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.options.domain || '-'"></dd>

                    <!-- INFRA -->
                    <dt data-translate="telephony_line_details_sip_infra"></dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.line.infrastructure || '-'"></dd>

                    <!-- LAST REC-->
                    <dt>
                        <span data-translate="telephony_line_details_sip_last_rec"></span>
                        <sup>1</sup>
                    </dt>
                    <dd data-ng-bind="::DetailsOfferCtrl.lastRegistration ? (DetailsOfferCtrl.lastRegistration.datetime | date:'short') : '-'"></dd>

                    <!-- IP LOC -->
                    <dt data-translate="telephony_line_details_sip_ip_local"></dt>
                    <dd data-ng-bind=":: DetailsOfferCtrl.lastRegistration ? DetailsOfferCtrl.lastRegistration.localIp + ':' + DetailsOfferCtrl.lastRegistration.localPort : '-'"></dd>

                    <!-- IP PUB-->
                    <dt data-translate="telephony_line_details_sip_ip_public"></dt>
                    <dd data-ng-bind=":: DetailsOfferCtrl.lastRegistration ? DetailsOfferCtrl.lastRegistration.ip + ':' + DetailsOfferCtrl.lastRegistration.port : '-'"></dd>
                </dl>
                <footer>
                    <sup>1</sup>
                    <em data-translate="telephony_line_details_sip_last_rec_info"></em>
                </footer>
            </section>
            <!-- /.widget-presentation -->

        </div>
        <!-- /.row -->

    </div>

</section>
<!-- /.telecom-telephony-line-details -->
