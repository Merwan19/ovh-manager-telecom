<form class="telecom-telephony-line-phone-codec-edit form-horizontal"
      data-ng-submit="CodecEditCtrl.saveNewCodec()"
      name="phoneCodecEditForm">

    <div class="modal-header">
        <h3 class="modal-title pull-left"
            data-translate="telephony_line_phone_codec_edit_title">
        </h3>
        <button type="button"
                class="close pull-right"
                aria-label="{{'cancel'|translate}}"
                data-ng-click="CodecEditCtrl.cancel()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body"
         data-ng-if="!CodecEditCtrl.loading.save && !CodecEditCtrl.saved">
        <p data-translate="telephony_line_phone_codec_edit_codec_priority"></p>

        <ul>
            <li data-ng-repeat="codec in CodecEditCtrl.line.availableCodecs track by $index">
                <label class="normal">
                    <div flat-input-container
                         class="input-group inline-block vertical-middle right-space-m8">
                        <flat-radio>
                            <input type="radio"
                                   name="newCodec"
                                   data-ng-model="CodecEditCtrl.model.codecs"
                                   data-ng-value="codec"/>
                        </flat-radio>
                    </div>
                    <span data-ng-bind="codec.value.split('_').join(', ')"
                          class="vertical-middle">
                    </span>
                </label>
            </li>
        </ul>

        <label data-ng-if="CodecEditCtrl.isAutomaticCodecEnabled()"
               class="normal">
            <div flat-input-container
                 class="input-group inline-block vertical-middle right-space-m8">
                <flat-checkbox>
                    <input type="checkbox"
                           name="automaticCodec"
                           data-ng-model="CodecEditCtrl.model.auto"/>
                </flat-checkbox>
            </div>
            <span data-translate="telephony_line_phone_codec_edit_codec_auto_choice"
                  class="vertical-middle">
            </span>
        </label>
    </div>

    <div class="modal-body"
         data-ng-if="CodecEditCtrl.loading.save && !CodecEditCtrl.saved">
        <bouncing-box-loader>
            <h4 data-translate="telephony_line_phone_codec_edit_codec_saving"></h4>
        </bouncing-box-loader>
    </div>

    <div class="modal-body"
         data-ng-if="CodecEditCtrl.saved">
        <success-drawing-check data-draw-success-check="CodecEditCtrl.saved">
            <h4 data-translate="telephony_line_phone_codec_edit_codec_save_success"></h4>
        </success-drawing-check>
    </div>

    <div class="modal-footer">
        <button type="button"
                class="btn btn-default"
                data-ng-click="CodecEditCtrl.cancel()"
                data-ng-disabled="CodecEditCtrl.loading.save"
                data-translate="cancel">
        </button>
        <button type="submit"
                class="btn btn-primary"
                data-translate="submit"
                data-ng-disabled="!CodecEditCtrl.model.codecs || CodecEditCtrl.loading.save">
        </button>
    </div>

</form>
