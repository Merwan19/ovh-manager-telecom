<section class="telephony-group-service-voicemail-default">

    <oui-loader data-ng-if="DefaultVoicemailCtrl.loading"
                data-size="m">
    </oui-loader>

    <div class="row"
         data-ng-if="!DefaultVoicemailCtrl.loading">
        <div class="col-xs-12 col-md-6">

            <toast-message></toast-message>

            <form name="defaultVoicemailForm"
                  novalidate
                  data-ng-submit="DefaultVoicemailCtrl.saveDefaultVoicemail()">
                <div class="form-group">
                    <label class="control-label"
                           for="default"
                           data-translate="telephony_line_answer_default_voicemail_label">
                    </label>
                    <select id="default"
                            name="default"
                            class="form-control"
                            required
                            data-ng-model="DefaultVoicemailCtrl.options.defaultVoicemail"
                            data-ng-change="DefaultVoicemailCtrl.success = false"
                            data-ng-options="number.serviceName as DefaultVoicemailCtrl.formatNumber(number) for number in DefaultVoicemailCtrl.numbers | orderBy: ['description', 'label', 'serviceName']">
                    </select>
                </div>
                <div class="form-group mt-4">
                    <hr/>
                    <telephony-bulk-action data-billing-account="{{ DefaultVoicemailCtrl.bulkDatas.billingAccount }}"
                                           data-service-name="{{ DefaultVoicemailCtrl.bulkDatas.serviceName }}"
                                           data-custom-class="link d-block pl-0 mb-3"
                                           data-bulk-infos="DefaultVoicemailCtrl.bulkDatas.infos"
                                           data-filter-services="DefaultVoicemailCtrl.filterServices"
                                           data-ng-disabled="DefaultVoicemailCtrl.saving"
                                           data-get-bulk-params="DefaultVoicemailCtrl.getBulkParams"
                                           data-on-success="DefaultVoicemailCtrl.onBulkSuccess"
                                           data-on-error="DefaultVoicemailCtrl.onBulkError">
                    </telephony-bulk-action>

                    <button type="submit"
                            class="btn btn-primary"
                            data-ng-disabled="DefaultVoicemailCtrl.options.defaultVoicemail === DefaultVoicemailCtrl.defaultVoicemail || DefaultVoicemailCtrl.saving">
                        <span data-translate="telephony_line_answer_default_voicemail_change"></span>
                        <i class="ovh-font ovh-font-success ml-2"
                           data-ng-if="DefaultVoicemailCtrl.success">
                        </i>
                        <oui-loader class="ml-2"
                                    data-ng-if="DefaultVoicemailCtrl.saving"
                                    data-size="s">
                        </oui-loader>
                    </button>
                    <button type="reset"
                            class="btn btn-link"
                            data-ng-click="DefaultVoicemailCtrl.cancel()"
                            data-ng-disabled="DefaultVoicemailCtrl.options.defaultVoicemail === DefaultVoicemailCtrl.defaultVoicemail || DefaultVoicemailCtrl.saving"
                            data-translate="cancel">
                    </button>
                </div>
            </form>

        </div>
    </div>
    <!-- /.row -->

</section>
<!-- /.telephony-group-service-voicemail-default -->
